<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Claimsub - Claims Submission Hub</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: system-ui, -apple-system, sans-serif; background: #F3F4F6; min-height: 100vh; }
    .header { background: #1F2937; color: white; padding: 16px 24px; display: flex; justify-content: space-between; align-items: center; }
    .header h1 { font-size: 18px; font-weight: 600; display: flex; align-items: center; gap: 12px; }
    .nav { display: flex; gap: 8px; align-items: center; }
    .nav button { padding: 8px 16px; background: transparent; border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 14px; }
    .nav button.active { background: #3B82F6; }
    .nav button:hover:not(.active) { background: rgba(255,255,255,0.1); }
    .logout-btn { background: #DC2626 !important; }
    .logout-btn:hover { background: #B91C1C !important; }
    .container { padding: 24px; max-width: 1200px; margin: 0 auto; }
    .card { background: white; border-radius: 8px; padding: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); margin-bottom: 24px; }
    .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 24px; }
    .stat-card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    .stat-card .number { font-size: 32px; font-weight: 700; }
    .stat-card .label { color: #6B7280; font-size: 14px; }
    .payer-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; }
    .payer-card { padding: 16px; border-radius: 8px; cursor: pointer; transition: all 0.15s; }
    .payer-card h3 { font-weight: 600; margin-bottom: 4px; }
    .payer-card .count { font-size: 24px; font-weight: 700; }
    .payer-card .portal-btn { display: inline-block; margin-top: 8px; padding: 6px 12px; color: white; border-radius: 4px; font-size: 12px; text-decoration: none; }
    table { width: 100%; border-collapse: collapse; font-size: 14px; }
    th { text-align: left; padding: 10px 8px; color: #6B7280; font-weight: 500; border-bottom: 2px solid #E5E7EB; }
    td { padding: 12px 8px; border-bottom: 1px solid #E5E7EB; }
    tr.clickable { cursor: pointer; }
    tr.clickable:hover { background: #F9FAFB; }
    .status-badge { display: inline-block; padding: 4px 10px; border-radius: 12px; font-size: 12px; font-weight: 500; }
    .form-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
    .form-group label { display: block; font-size: 13px; font-weight: 500; margin-bottom: 6px; }
    .form-group input, .form-group select { width: 100%; padding: 10px; border: 1px solid #D1D5DB; border-radius: 6px; font-size: 14px; }
    .btn { padding: 12px 24px; border: none; border-radius: 6px; font-weight: 500; cursor: pointer; font-size: 14px; }
    .btn-primary { background: #2563EB; color: white; }
    .btn-primary:hover { background: #1D4ED8; }
    .btn-primary:disabled { background: #D1D5DB; cursor: not-allowed; }
    .btn-secondary { background: #F3F4F6; color: #374151; }
    .btn-secondary:hover { background: #E5E7EB; }
    .btn-danger { background: #FEE2E2; color: #DC2626; }
    .btn-danger:hover { background: #FECACA; }
    .copy-field { padding: 10px 14px; background: #F9FAFB; border-radius: 6px; cursor: pointer; border: 1px solid #E5E7EB; transition: all 0.15s; margin-bottom: 8px; }
    .copy-field:hover { background: #F3F4F6; }
    .copy-field.copied { background: #D1FAE5; }
    .copy-field .label { font-size: 11px; color: #6B7280; margin-bottom: 2px; }
    .copy-field .value { font-size: 14px; font-weight: 500; }
    .copy-field .hint { margin-left: 8px; font-size: 11px; color: #9CA3AF; }
    .copy-field.copied .hint { color: #059669; }
    .detail-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
    .status-buttons { display: flex; gap: 8px; margin-bottom: 24px; flex-wrap: wrap; }
    .status-btn { padding: 8px 16px; border: none; border-radius: 6px; cursor: pointer; font-weight: 500; font-size: 13px; }
    .back-btn { background: none; border: none; color: #6B7280; cursor: pointer; margin-bottom: 8px; }
    .hidden { display: none; }
    .empty-state { text-align: center; padding: 40px; color: #6B7280; }
    .empty-state a { color: #2563EB; cursor: pointer; text-decoration: underline; }
    .report-section { display: grid; grid-template-columns: repeat(2, 1fr); gap: 24px; }
    .bar-row { display: flex; align-items: center; margin-bottom: 8px; }
    .bar-label { width: 120px; font-size: 13px; font-weight: 500; }
    .bar-track { flex: 1; height: 24px; background: #F3F4F6; border-radius: 4px; overflow: hidden; }
    .bar-fill { height: 100%; transition: width 0.3s; }
    .bar-count { width: 40px; text-align: right; font-size: 14px; font-weight: 500; }
    .quick-stats { margin-top: 32px; padding: 20px; background: #F9FAFB; border-radius: 8px; }
    .quick-stats h3 { font-size: 14px; margin-bottom: 12px; }
    .quick-stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; font-size: 13px; }
    .quick-stats-grid .qs-label { color: #6B7280; }
    .quick-stats-grid .qs-value { font-size: 20px; font-weight: 600; }

    /* Login Page Styles */
    .login-container { min-height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #1F2937 0%, #374151 100%); }
    .login-box { background: white; padding: 40px; border-radius: 16px; box-shadow: 0 20px 40px rgba(0,0,0,0.3); width: 100%; max-width: 400px; text-align: center; }
    .login-box h2 { font-size: 24px; margin-bottom: 8px; color: #1F2937; }
    .login-box p { color: #6B7280; margin-bottom: 24px; }
    .login-box .form-group { margin-bottom: 16px; text-align: left; }
    .login-box input { width: 100%; padding: 12px 16px; border: 2px solid #E5E7EB; border-radius: 8px; font-size: 15px; transition: border-color 0.2s; }
    .login-box input:focus { outline: none; border-color: #3B82F6; }
    .login-error { color: #DC2626; font-size: 13px; margin-bottom: 16px; display: none; }
    .login-error.show { display: block; }
    .login-btn { width: 100%; padding: 14px; background: #2563EB; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: background 0.2s; }
    .login-btn:hover { background: #1D4ED8; }

    /* Landing Page Styles */
    .landing-page { min-height: 100vh; }
    .landing-header { background: #1F2937; padding: 16px 24px; display: flex; justify-content: space-between; align-items: center; }
    .landing-header .logo { display: flex; align-items: center; gap: 12px; color: white; text-decoration: none; }
    .landing-header .logo-text { font-size: 20px; font-weight: 700; }
    .landing-header .login-link { padding: 10px 24px; background: #3B82F6; color: white; border-radius: 6px; text-decoration: none; font-weight: 500; transition: background 0.2s; }
    .landing-header .login-link:hover { background: #2563EB; }
    .hero { background: linear-gradient(135deg, #1F2937 0%, #374151 100%); color: white; padding: 80px 24px; text-align: center; }
    .hero h1 { font-size: 48px; font-weight: 700; margin-bottom: 16px; }
    .hero p { font-size: 20px; color: #D1D5DB; max-width: 600px; margin: 0 auto 32px; }
    .hero-cta { display: inline-block; padding: 16px 32px; background: #3B82F6; color: white; border-radius: 8px; text-decoration: none; font-size: 18px; font-weight: 600; transition: all 0.2s; }
    .hero-cta:hover { background: #2563EB; transform: translateY(-2px); }
    .features { padding: 80px 24px; background: white; }
    .features-container { max-width: 1200px; margin: 0 auto; }
    .features h2 { font-size: 36px; text-align: center; margin-bottom: 48px; color: #1F2937; }
    .features-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 32px; }
    .feature-card { padding: 32px; background: #F9FAFB; border-radius: 12px; text-align: center; }
    .feature-icon { width: 64px; height: 64px; background: #EFF6FF; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px; font-size: 28px; }
    .feature-card h3 { font-size: 18px; margin-bottom: 8px; color: #1F2937; }
    .feature-card p { color: #6B7280; font-size: 14px; line-height: 1.6; }
    .benefits { padding: 80px 24px; background: #F3F4F6; }
    .benefits-container { max-width: 1000px; margin: 0 auto; }
    .benefits h2 { font-size: 36px; text-align: center; margin-bottom: 48px; color: #1F2937; }
    .benefits-list { display: grid; grid-template-columns: repeat(2, 1fr); gap: 24px; }
    .benefit-item { display: flex; gap: 16px; padding: 24px; background: white; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    .benefit-check { width: 32px; height: 32px; background: #D1FAE5; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #059669; flex-shrink: 0; }
    .benefit-item h4 { font-size: 16px; margin-bottom: 4px; color: #1F2937; }
    .benefit-item p { color: #6B7280; font-size: 14px; }
    .landing-footer { background: #1F2937; color: white; padding: 40px 24px; text-align: center; }
    .landing-footer p { color: #9CA3AF; }

    /* Modal Styles */
    .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 1000; opacity: 0; visibility: hidden; transition: all 0.2s; }
    .modal-overlay.show { opacity: 1; visibility: visible; }
    .modal { background: white; border-radius: 12px; width: 100%; max-width: 700px; max-height: 90vh; overflow: hidden; transform: translateY(20px); transition: transform 0.2s; }
    .modal-overlay.show .modal { transform: translateY(0); }
    .modal-header { padding: 20px 24px; border-bottom: 1px solid #E5E7EB; display: flex; justify-content: space-between; align-items: center; }
    .modal-header h3 { font-size: 18px; font-weight: 600; }
    .modal-close { background: none; border: none; font-size: 24px; cursor: pointer; color: #6B7280; }
    .modal-close:hover { color: #374151; }
    .modal-body { padding: 24px; max-height: 60vh; overflow-y: auto; }
    .modal-footer { padding: 16px 24px; border-top: 1px solid #E5E7EB; display: flex; justify-content: flex-end; gap: 12px; }
    .payer-list { margin-bottom: 24px; }
    .payer-item { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border: 1px solid #E5E7EB; border-radius: 8px; margin-bottom: 8px; }
    .payer-item-info { display: flex; align-items: center; gap: 12px; }
    .payer-color-dot { width: 12px; height: 12px; border-radius: 50%; }
    .payer-item-name { font-weight: 500; }
    .payer-item-details { font-size: 12px; color: #6B7280; }
    .payer-item-actions { display: flex; gap: 8px; }
    .payer-item-actions button { padding: 6px 12px; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; }
    .payer-edit-btn { background: #EFF6FF; color: #2563EB; }
    .payer-delete-btn { background: #FEE2E2; color: #DC2626; }
    .payer-form { background: #F9FAFB; padding: 20px; border-radius: 8px; }
    .payer-form h4 { font-size: 14px; margin-bottom: 16px; color: #374151; }
    .payer-form-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; }
    .payer-form .form-group { margin-bottom: 0; }
    .payer-form input[type="color"] { width: 100%; height: 40px; padding: 4px; cursor: pointer; }
    .manage-payers-btn { padding: 8px 12px; background: #F3F4F6; border: none; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 6px; font-size: 13px; color: #374151; }
    .manage-payers-btn:hover { background: #E5E7EB; }
    .gear-icon { font-size: 16px; }

    @media (max-width: 768px) {
      .stats-grid, .payer-grid, .form-grid, .detail-grid, .report-section, .quick-stats-grid { grid-template-columns: 1fr; }
      .bar-label { width: 80px; }
      .features-grid { grid-template-columns: 1fr; }
      .benefits-list { grid-template-columns: 1fr; }
      .hero h1 { font-size: 32px; }
      .hero p { font-size: 16px; }
      .payer-form-grid { grid-template-columns: 1fr; }
      .modal { margin: 16px; max-width: calc(100% - 32px); }
    }
  </style>
</head>
<body>
  <!-- Landing Page -->
  <div id="landing-page" class="landing-page hidden">
    <header class="landing-header">
      <a href="#" class="logo">
        <svg width="40" height="40" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
          <!-- Submarine body -->
          <ellipse cx="50" cy="55" rx="38" ry="20" fill="#3B82F6"/>
          <ellipse cx="50" cy="55" rx="38" ry="20" fill="url(#subGradient)"/>
          <!-- Conning tower -->
          <rect x="42" y="32" width="16" height="18" rx="3" fill="#2563EB"/>
          <rect x="46" y="26" width="8" height="8" rx="2" fill="#1D4ED8"/>
          <!-- Periscope -->
          <rect x="48" y="18" width="4" height="12" fill="#6B7280"/>
          <circle cx="50" cy="16" r="4" fill="#374151"/>
          <!-- Porthole windows -->
          <circle cx="30" cy="55" r="5" fill="#1E40AF"/>
          <circle cx="30" cy="55" r="3" fill="#60A5FA"/>
          <circle cx="50" cy="55" r="5" fill="#1E40AF"/>
          <circle cx="50" cy="55" r="3" fill="#60A5FA"/>
          <circle cx="70" cy="55" r="5" fill="#1E40AF"/>
          <circle cx="70" cy="55" r="3" fill="#60A5FA"/>
          <!-- Propeller -->
          <ellipse cx="92" cy="55" rx="4" ry="8" fill="#6B7280"/>
          <!-- Bubbles -->
          <circle cx="20" cy="35" r="3" fill="#93C5FD" opacity="0.7"/>
          <circle cx="28" cy="28" r="2" fill="#93C5FD" opacity="0.5"/>
          <circle cx="15" cy="42" r="2" fill="#93C5FD" opacity="0.6"/>
          <!-- Gradient definition -->
          <defs>
            <linearGradient id="subGradient" x1="50" y1="35" x2="50" y2="75" gradientUnits="userSpaceOnUse">
              <stop offset="0%" stop-color="#60A5FA"/>
              <stop offset="100%" stop-color="#2563EB"/>
            </linearGradient>
          </defs>
        </svg>
        <span class="logo-text">Claimsub</span>
      </a>
      <a href="#" class="login-link" onclick="showLoginPage(); return false;">Login</a>
    </header>

    <section class="hero">
      <svg width="80" height="80" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: 24px;">
        <ellipse cx="50" cy="55" rx="38" ry="20" fill="#3B82F6"/>
        <ellipse cx="50" cy="55" rx="38" ry="20" fill="url(#subGradient2)"/>
        <rect x="42" y="32" width="16" height="18" rx="3" fill="#2563EB"/>
        <rect x="46" y="26" width="8" height="8" rx="2" fill="#1D4ED8"/>
        <rect x="48" y="18" width="4" height="12" fill="#9CA3AF"/>
        <circle cx="50" cy="16" r="4" fill="#6B7280"/>
        <circle cx="30" cy="55" r="5" fill="#1E40AF"/>
        <circle cx="30" cy="55" r="3" fill="#60A5FA"/>
        <circle cx="50" cy="55" r="5" fill="#1E40AF"/>
        <circle cx="50" cy="55" r="3" fill="#60A5FA"/>
        <circle cx="70" cy="55" r="5" fill="#1E40AF"/>
        <circle cx="70" cy="55" r="3" fill="#60A5FA"/>
        <ellipse cx="92" cy="55" rx="4" ry="8" fill="#9CA3AF"/>
        <circle cx="20" cy="35" r="3" fill="#93C5FD" opacity="0.7"/>
        <circle cx="28" cy="28" r="2" fill="#93C5FD" opacity="0.5"/>
        <circle cx="15" cy="42" r="2" fill="#93C5FD" opacity="0.6"/>
        <defs>
          <linearGradient id="subGradient2" x1="50" y1="35" x2="50" y2="75" gradientUnits="userSpaceOnUse">
            <stop offset="0%" stop-color="#60A5FA"/>
            <stop offset="100%" stop-color="#2563EB"/>
          </linearGradient>
        </defs>
      </svg>
      <h1>Streamline Your Insurance Claims Workflow</h1>
      <p>The all-in-one hub for billing staff to manage insurance claims submissions, track deadlines, and boost productivity.</p>
      <a href="#" class="hero-cta" onclick="showLoginPage(); return false;">Get Started</a>
    </section>

    <section class="features">
      <div class="features-container">
        <h2>Key Features</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">üìã</div>
            <h3>Unified Claim Entry</h3>
            <p>Enter all claim details in one place with smart form fields for CPT codes, modifiers, and diagnosis codes.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">üìã</div>
            <h3>Click-to-Copy Fields</h3>
            <p>Instantly copy any claim field to your clipboard with a single click for fast data entry into payer portals.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">üöÄ</div>
            <h3>Payer Portal Quick-Launch</h3>
            <p>Jump directly to any payer's portal with one click. No more searching for bookmarks or URLs.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">‚è∞</div>
            <h3>Filing Deadline Tracking</h3>
            <p>Never miss a timely filing deadline. Visual alerts show claims approaching their submission window.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">üìä</div>
            <h3>Status Workflow Management</h3>
            <p>Track claims from draft to paid with clear status indicators: Draft, Ready, Submitted, Pending, Paid, Denied.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">‚öôÔ∏è</div>
            <h3>Custom Payer Configuration</h3>
            <p>Add, edit, and manage your payer list with custom portal URLs, filing deadlines, and brand colors.</p>
          </div>
        </div>
      </div>
    </section>

    <section class="benefits">
      <div class="benefits-container">
        <h2>Workflow Efficiency Benefits</h2>
        <div class="benefits-list">
          <div class="benefit-item">
            <div class="benefit-check">‚úì</div>
            <div>
              <h4>Reduce Manual Data Entry</h4>
              <p>Copy claim data directly into payer portals instead of retyping. Save time and reduce errors.</p>
            </div>
          </div>
          <div class="benefit-item">
            <div class="benefit-check">‚úì</div>
            <div>
              <h4>Prevent Missed Deadlines</h4>
              <p>Automatic deadline calculations with visual urgency indicators keep your claims on track.</p>
            </div>
          </div>
          <div class="benefit-item">
            <div class="benefit-check">‚úì</div>
            <div>
              <h4>Organize Claims by Payer</h4>
              <p>Filter and view claims by payer to batch your submissions efficiently.</p>
            </div>
          </div>
          <div class="benefit-item">
            <div class="benefit-check">‚úì</div>
            <div>
              <h4>Track Submission Progress</h4>
              <p>Monitor your claims pipeline with real-time statistics and reporting dashboards.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer class="landing-footer">
      <p>Claimsub - Claims Submission Hub</p>
    </footer>
  </div>

  <!-- Login Page -->
  <div id="login-page" class="login-container hidden">
    <div class="login-box">
      <svg width="60" height="60" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: 16px;">
        <ellipse cx="50" cy="55" rx="38" ry="20" fill="#3B82F6"/>
        <ellipse cx="50" cy="55" rx="38" ry="20" fill="url(#subGradient3)"/>
        <rect x="42" y="32" width="16" height="18" rx="3" fill="#2563EB"/>
        <rect x="46" y="26" width="8" height="8" rx="2" fill="#1D4ED8"/>
        <rect x="48" y="18" width="4" height="12" fill="#6B7280"/>
        <circle cx="50" cy="16" r="4" fill="#374151"/>
        <circle cx="30" cy="55" r="5" fill="#1E40AF"/>
        <circle cx="30" cy="55" r="3" fill="#60A5FA"/>
        <circle cx="50" cy="55" r="5" fill="#1E40AF"/>
        <circle cx="50" cy="55" r="3" fill="#60A5FA"/>
        <circle cx="70" cy="55" r="5" fill="#1E40AF"/>
        <circle cx="70" cy="55" r="3" fill="#60A5FA"/>
        <ellipse cx="92" cy="55" rx="4" ry="8" fill="#6B7280"/>
        <circle cx="20" cy="35" r="3" fill="#93C5FD" opacity="0.7"/>
        <circle cx="28" cy="28" r="2" fill="#93C5FD" opacity="0.5"/>
        <circle cx="15" cy="42" r="2" fill="#93C5FD" opacity="0.6"/>
        <defs>
          <linearGradient id="subGradient3" x1="50" y1="35" x2="50" y2="75" gradientUnits="userSpaceOnUse">
            <stop offset="0%" stop-color="#60A5FA"/>
            <stop offset="100%" stop-color="#2563EB"/>
          </linearGradient>
        </defs>
      </svg>
      <h2>Welcome to Claimsub</h2>
      <p>Sign in to access the Claims Submission Hub</p>
      <div id="login-error" class="login-error">Invalid username or password</div>
      <form onsubmit="handleLogin(event)">
        <div class="form-group">
          <label>Username</label>
          <input type="text" id="login-username" placeholder="Enter username" autocomplete="username" required>
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" id="login-password" placeholder="Enter password" autocomplete="current-password" required>
        </div>
        <button type="submit" class="login-btn">Sign In</button>
      </form>
      <p style="margin-top: 24px; font-size: 13px; color: #9CA3AF;">
        <a href="#" onclick="showLandingPage(); return false;" style="color: #3B82F6; text-decoration: none;">‚Üê Back to home</a>
      </p>
    </div>
  </div>

  <!-- Main App -->
  <div id="app" class="hidden">
    <div class="header">
      <h1>
        <svg width="32" height="32" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
          <ellipse cx="50" cy="55" rx="38" ry="20" fill="#3B82F6"/>
          <ellipse cx="50" cy="55" rx="38" ry="20" fill="url(#subGradient4)"/>
          <rect x="42" y="32" width="16" height="18" rx="3" fill="#2563EB"/>
          <rect x="46" y="26" width="8" height="8" rx="2" fill="#1D4ED8"/>
          <rect x="48" y="18" width="4" height="12" fill="#9CA3AF"/>
          <circle cx="50" cy="16" r="4" fill="#6B7280"/>
          <circle cx="30" cy="55" r="5" fill="#1E40AF"/>
          <circle cx="30" cy="55" r="3" fill="#60A5FA"/>
          <circle cx="50" cy="55" r="5" fill="#1E40AF"/>
          <circle cx="50" cy="55" r="3" fill="#60A5FA"/>
          <circle cx="70" cy="55" r="5" fill="#1E40AF"/>
          <circle cx="70" cy="55" r="3" fill="#60A5FA"/>
          <ellipse cx="92" cy="55" rx="4" ry="8" fill="#9CA3AF"/>
          <defs>
            <linearGradient id="subGradient4" x1="50" y1="35" x2="50" y2="75" gradientUnits="userSpaceOnUse">
              <stop offset="0%" stop-color="#60A5FA"/>
              <stop offset="100%" stop-color="#2563EB"/>
            </linearGradient>
          </defs>
        </svg>
        Claims Submission Hub
      </h1>
      <div class="nav">
        <button class="active" onclick="showView('dashboard')">Dashboard</button>
        <button onclick="showView('new')">+ New Claim</button>
        <button onclick="showView('reports')">Reports</button>
        <button class="logout-btn" onclick="handleLogout()">Logout</button>
      </div>
    </div>
    <div class="container">
      <div id="dashboard-view"></div>
      <div id="new-view" class="hidden"></div>
      <div id="detail-view" class="hidden"></div>
      <div id="reports-view" class="hidden"></div>
    </div>
  </div>

  <!-- Payer Management Modal -->
  <div id="payer-modal" class="modal-overlay" onclick="if(event.target === this) closePayerModal()">
    <div class="modal">
      <div class="modal-header">
        <h3>Manage Payers</h3>
        <button class="modal-close" onclick="closePayerModal()">&times;</button>
      </div>
      <div class="modal-body">
        <div class="payer-list" id="payer-list"></div>
        <div class="payer-form" id="payer-form">
          <h4 id="payer-form-title">Add New Payer</h4>
          <div class="payer-form-grid">
            <div class="form-group">
              <label>Payer Name *</label>
              <input type="text" id="payer-name" placeholder="e.g., Blue Cross Blue Shield">
            </div>
            <div class="form-group">
              <label>Portal URL *</label>
              <input type="url" id="payer-portal" placeholder="https://...">
            </div>
            <div class="form-group">
              <label>Timely Filing (days) *</label>
              <input type="number" id="payer-filing" placeholder="90" min="1">
            </div>
            <div class="form-group">
              <label>Brand Color</label>
              <input type="color" id="payer-color" value="#3B82F6">
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="resetPayerForm()">Cancel Edit</button>
        <button class="btn btn-primary" onclick="savePayerFromForm()">Save Payer</button>
      </div>
    </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div id="delete-modal" class="modal-overlay" onclick="if(event.target === this) closeDeleteModal()">
    <div class="modal" style="max-width: 400px;">
      <div class="modal-header">
        <h3>Delete Payer</h3>
        <button class="modal-close" onclick="closeDeleteModal()">&times;</button>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to delete <strong id="delete-payer-name"></strong>?</p>
        <p style="color: #6B7280; font-size: 13px; margin-top: 8px;">This action cannot be undone. Claims associated with this payer will need to be reassigned.</p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeDeleteModal()">Cancel</button>
        <button class="btn btn-danger" onclick="confirmDeletePayer()">Delete</button>
      </div>
    </div>
  </div>

  <script>
    // Default payers configuration
    const DEFAULT_PAYERS = {
      medicaid: { name: 'Colorado Medicaid', color: '#059669', portal: 'https://colorado-hcp-portal.xco.dcs-usps.com/', filing: 90 },
      aetna: { name: 'Aetna', color: '#7C3AED', portal: 'https://www.availity.com/', filing: 180 },
      cigna: { name: 'Cigna', color: '#0284C7', portal: 'https://cignaforhcp.cigna.com/', filing: 180 },
      ubh: { name: 'UBH / Optum', color: '#EA580C', portal: 'https://www.providerexpress.com/', filing: 180 }
    };

    // Credentials
    const VALID_USERNAME = 'RBHstaff';
    const VALID_PASSWORD = 'ServeCO26';

    let PAYERS = {};
    const STATUS_COLORS = { draft: '#6B7280', ready: '#2563EB', submitted: '#7C3AED', pending: '#D97706', paid: '#059669', denied: '#DC2626' };
    const CPT_CODES = ['90834', '90837', '90847', '90853', '90791', '90792', '96130', '96131', '96136', '96137'];
    const MODIFIERS = [
      { code: '', label: 'None' },
      { code: '95', label: '95 - Synchronous Telehealth' },
      { code: 'GT', label: 'GT - Interactive Telehealth' },
      { code: 'HO', label: 'HO - Masters Level Clinician' },
      { code: 'HN', label: 'HN - Bachelors Level Clinician' },
      { code: 'AJ', label: 'AJ - Clinical Social Worker' },
      { code: 'AH', label: 'AH - Clinical Psychologist' },
      { code: 'U1', label: 'U1 - Medicaid Level 1' },
      { code: 'U2', label: 'U2 - Medicaid Level 2' },
      { code: 'U3', label: 'U3 - Medicaid Level 3' },
      { code: 'U4', label: 'U4 - Medicaid Level 4' },
      { code: 'U5', label: 'U5 - Medicaid Level 5' },
      { code: 'FQ', label: 'FQ - Telehealth in Patient Home' },
      { code: '59', label: '59 - Distinct Procedural Service' },
      { code: '76', label: '76 - Repeat Procedure Same Physician' },
      { code: '25', label: '25 - Significant E/M' }
    ];

    let claims = [];
    let currentView = 'dashboard';
    let selectedPayer = null;
    let selectedClaim = null;
    let editingPayerKey = null;
    let deletingPayerKey = null;

    // Authentication functions
    function isLoggedIn() {
      return sessionStorage.getItem('claimsub-auth') === 'true';
    }

    function handleLogin(event) {
      event.preventDefault();
      const username = document.getElementById('login-username').value;
      const password = document.getElementById('login-password').value;
      const errorEl = document.getElementById('login-error');

      if (username === VALID_USERNAME && password === VALID_PASSWORD) {
        sessionStorage.setItem('claimsub-auth', 'true');
        errorEl.classList.remove('show');
        showApp();
      } else {
        errorEl.classList.add('show');
      }
    }

    function handleLogout() {
      sessionStorage.removeItem('claimsub-auth');
      showLandingPage();
    }

    function showLandingPage() {
      document.getElementById('landing-page').classList.remove('hidden');
      document.getElementById('login-page').classList.add('hidden');
      document.getElementById('app').classList.add('hidden');
    }

    function showLoginPage() {
      document.getElementById('landing-page').classList.add('hidden');
      document.getElementById('login-page').classList.remove('hidden');
      document.getElementById('app').classList.add('hidden');
      document.getElementById('login-username').value = '';
      document.getElementById('login-password').value = '';
      document.getElementById('login-error').classList.remove('show');
    }

    function showApp() {
      document.getElementById('landing-page').classList.add('hidden');
      document.getElementById('login-page').classList.add('hidden');
      document.getElementById('app').classList.remove('hidden');
      loadPayers();
      loadClaims();
      renderDashboard();
    }

    // Payer management functions
    function loadPayers() {
      const saved = localStorage.getItem('claimsub-payers');
      if (saved) {
        PAYERS = JSON.parse(saved);
      } else {
        PAYERS = JSON.parse(JSON.stringify(DEFAULT_PAYERS));
        savePayers();
      }
    }

    function savePayers() {
      localStorage.setItem('claimsub-payers', JSON.stringify(PAYERS));
    }

    function openPayerModal() {
      document.getElementById('payer-modal').classList.add('show');
      renderPayerList();
      resetPayerForm();
    }

    function closePayerModal() {
      document.getElementById('payer-modal').classList.remove('show');
      resetPayerForm();
    }

    function renderPayerList() {
      const list = document.getElementById('payer-list');
      list.innerHTML = Object.entries(PAYERS).map(([key, payer]) => `
        <div class="payer-item">
          <div class="payer-item-info">
            <div class="payer-color-dot" style="background: ${payer.color}"></div>
            <div>
              <div class="payer-item-name">${payer.name}</div>
              <div class="payer-item-details">${payer.filing} days filing ‚Ä¢ <a href="${payer.portal}" target="_blank" style="color: #2563EB;">${new URL(payer.portal).hostname}</a></div>
            </div>
          </div>
          <div class="payer-item-actions">
            <button class="payer-edit-btn" onclick="editPayer('${key}')">Edit</button>
            <button class="payer-delete-btn" onclick="promptDeletePayer('${key}')">Delete</button>
          </div>
        </div>
      `).join('');
    }

    function editPayer(key) {
      editingPayerKey = key;
      const payer = PAYERS[key];
      document.getElementById('payer-form-title').textContent = 'Edit Payer';
      document.getElementById('payer-name').value = payer.name;
      document.getElementById('payer-portal').value = payer.portal;
      document.getElementById('payer-filing').value = payer.filing;
      document.getElementById('payer-color').value = payer.color;
    }

    function resetPayerForm() {
      editingPayerKey = null;
      document.getElementById('payer-form-title').textContent = 'Add New Payer';
      document.getElementById('payer-name').value = '';
      document.getElementById('payer-portal').value = '';
      document.getElementById('payer-filing').value = '';
      document.getElementById('payer-color').value = '#3B82F6';
    }

    function savePayerFromForm() {
      const name = document.getElementById('payer-name').value.trim();
      const portal = document.getElementById('payer-portal').value.trim();
      const filing = parseInt(document.getElementById('payer-filing').value);
      const color = document.getElementById('payer-color').value;

      if (!name || !portal || !filing) {
        alert('Please fill in all required fields');
        return;
      }

      try {
        new URL(portal);
      } catch {
        alert('Please enter a valid URL');
        return;
      }

      if (editingPayerKey) {
        PAYERS[editingPayerKey] = { name, portal, filing, color };
      } else {
        const key = name.toLowerCase().replace(/[^a-z0-9]/g, '_');
        if (PAYERS[key]) {
          alert('A payer with a similar name already exists');
          return;
        }
        PAYERS[key] = { name, portal, filing, color };
      }

      savePayers();
      renderPayerList();
      resetPayerForm();
      renderDashboard();
    }

    function promptDeletePayer(key) {
      deletingPayerKey = key;
      document.getElementById('delete-payer-name').textContent = PAYERS[key].name;
      document.getElementById('delete-modal').classList.add('show');
    }

    function closeDeleteModal() {
      document.getElementById('delete-modal').classList.remove('show');
      deletingPayerKey = null;
    }

    function confirmDeletePayer() {
      if (deletingPayerKey) {
        delete PAYERS[deletingPayerKey];
        savePayers();
        renderPayerList();
        renderDashboard();
      }
      closeDeleteModal();
    }

    // Claims functions
    function loadClaims() {
      const saved = localStorage.getItem('claims-hub-data');
      if (saved) claims = JSON.parse(saved);
    }

    function saveClaims() {
      localStorage.setItem('claims-hub-data', JSON.stringify(claims));
    }

    function getDaysUntilDeadline(claim) {
      const payer = PAYERS[claim.payer];
      if (!payer) return 999;
      const serviceDate = new Date(claim.serviceDate);
      const deadline = new Date(serviceDate);
      deadline.setDate(deadline.getDate() + payer.filing);
      const today = new Date();
      return Math.ceil((deadline - today) / (1000 * 60 * 60 * 24));
    }

    function getStats() {
      const stats = { total: claims.length, byStatus: {}, byPayer: {}, urgent: 0 };
      Object.keys(STATUS_COLORS).forEach(s => stats.byStatus[s] = 0);
      Object.keys(PAYERS).forEach(p => stats.byPayer[p] = 0);
      claims.forEach(c => {
        stats.byStatus[c.status]++;
        if (stats.byPayer[c.payer] !== undefined) {
          stats.byPayer[c.payer]++;
        }
        if (['draft', 'ready'].includes(c.status) && getDaysUntilDeadline(c) <= 14) stats.urgent++;
      });
      return stats;
    }

    function showView(view) {
      currentView = view;
      selectedClaim = null;
      document.querySelectorAll('.nav button').forEach(b => b.classList.remove('active'));
      document.querySelectorAll('.nav button').forEach(b => { if (b.textContent.toLowerCase().includes(view) || (view === 'new' && b.textContent.includes('New'))) b.classList.add('active'); });
      document.getElementById('dashboard-view').classList.toggle('hidden', view !== 'dashboard');
      document.getElementById('new-view').classList.toggle('hidden', view !== 'new');
      document.getElementById('detail-view').classList.add('hidden');
      document.getElementById('reports-view').classList.toggle('hidden', view !== 'reports');
      if (view === 'dashboard') renderDashboard();
      if (view === 'new') renderNewForm();
      if (view === 'reports') renderReports();
    }

    function renderDashboard() {
      const stats = getStats();
      const filtered = selectedPayer ? claims.filter(c => c.payer === selectedPayer) : claims;
      const sorted = [...filtered].sort((a, b) => getDaysUntilDeadline(a) - getDaysUntilDeadline(b));

      let html = `
        <div class="stats-grid">
          <div class="stat-card"><div class="number">${stats.total}</div><div class="label">Total Claims</div></div>
          <div class="stat-card"><div class="number" style="color:#2563EB">${stats.byStatus.ready}</div><div class="label">Ready to Submit</div></div>
          <div class="stat-card"><div class="number" style="color:#D97706">${stats.byStatus.pending}</div><div class="label">Pending Payment</div></div>
          <div class="stat-card"><div class="number" style="color:${stats.urgent > 0 ? '#DC2626' : '#059669'}">${stats.urgent}</div><div class="label">Urgent (‚â§14 days)</div></div>
        </div>
        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
            <h3 style="font-size:16px">Payer Queues</h3>
            <button class="manage-payers-btn" onclick="openPayerModal()">
              <span class="gear-icon">‚öôÔ∏è</span> Manage Payers
            </button>
          </div>
          <div class="payer-grid">
            ${Object.entries(PAYERS).map(([key, p]) => `
              <div class="payer-card" style="border:2px solid ${p.color}20;background:${p.color}08" onclick="filterByPayer('${key}')">
                <h3 style="color:${p.color}">${p.name}</h3>
                <div class="count">${stats.byPayer[key] || 0}</div>
                <div style="font-size:12px;color:#6B7280">claims</div>
                <a href="${p.portal}" target="_blank" class="portal-btn" style="background:${p.color}" onclick="event.stopPropagation()">Open Portal ‚Üí</a>
              </div>
            `).join('')}
          </div>
        </div>
        <div class="card">
          <h3 style="margin-bottom:16px;font-size:16px">
            ${selectedPayer && PAYERS[selectedPayer] ? PAYERS[selectedPayer].name + ' Claims' : 'All Claims'}
            ${selectedPayer ? `<button class="btn-secondary" style="margin-left:12px;padding:4px 8px;font-size:12px" onclick="clearFilter()">Clear Filter</button>` : ''}
          </h3>
          ${sorted.length === 0 ? `<div class="empty-state">No claims yet. <a onclick="showView('new')">Create your first claim</a></div>` : `
            <table>
              <thead><tr><th>Client</th><th>Service Date</th><th>CPT</th><th>Payer</th><th>Deadline</th><th>Status</th></tr></thead>
              <tbody>
                ${sorted.map(c => {
                  const days = getDaysUntilDeadline(c);
                  const mods = [c.modifier1, c.modifier2].filter(Boolean).map(m => '-' + m).join('');
                  const payer = PAYERS[c.payer];
                  return `<tr class="clickable" onclick="showDetail('${c.id}')">
                    <td style="font-weight:500">${c.clientName}</td>
                    <td>${c.serviceDate}</td>
                    <td>${c.cptCode}${mods}</td>
                    <td style="color:${payer ? payer.color : '#6B7280'};font-weight:500">${payer ? payer.name : 'Unknown'}</td>
                    <td style="color:${days <= 14 ? '#DC2626' : days <= 30 ? '#D97706' : '#059669'};font-weight:${days <= 14 ? 600 : 400}">${days} days</td>
                    <td><span class="status-badge" style="background:${STATUS_COLORS[c.status]}15;color:${STATUS_COLORS[c.status]}">${c.status.charAt(0).toUpperCase() + c.status.slice(1)}</span></td>
                  </tr>`;
                }).join('')}
              </tbody>
            </table>
          `}
        </div>
      `;
      document.getElementById('dashboard-view').innerHTML = html;
    }

    function filterByPayer(payer) {
      selectedPayer = payer;
      renderDashboard();
    }

    function clearFilter() {
      selectedPayer = null;
      renderDashboard();
    }

    function renderNewForm() {
      const modOptions = MODIFIERS.map(m => `<option value="${m.code}">${m.label}</option>`).join('');
      const cptOptions = CPT_CODES.map(c => `<option value="${c}">${c}</option>`).join('');
      const payerOptions = Object.entries(PAYERS).map(([k, p]) => `<option value="${k}">${p.name}</option>`).join('');

      document.getElementById('new-view').innerHTML = `
        <div class="card">
          <h2 style="margin-bottom:20px;font-size:18px">New Claim</h2>
          <div class="form-grid">
            <div class="form-group"><label>Client Name *</label><input type="text" id="clientName"></div>
            <div class="form-group"><label>Date of Birth</label><input type="date" id="clientDOB"></div>
            <div class="form-group"><label>Member ID</label><input type="text" id="memberId"></div>
            <div class="form-group"><label>Service Date *</label><input type="date" id="serviceDate"></div>
            <div class="form-group"><label>CPT Code *</label><select id="cptCode">${cptOptions}</select></div>
            <div class="form-group"><label>Modifier 1</label><select id="modifier1">${modOptions}</select></div>
            <div class="form-group"><label>Modifier 2</label><select id="modifier2">${modOptions}</select></div>
            <div class="form-group"><label>Modifier 3</label><select id="modifier3">${modOptions}</select></div>
            <div class="form-group"><label>Modifier 4</label><select id="modifier4">${modOptions}</select></div>
            <div class="form-group"><label>Units</label><input type="number" id="units" value="1"></div>
            <div class="form-group"><label>Diagnosis Code (ICD-10) *</label><input type="text" id="diagnosisCode" placeholder="F32.1"></div>
            <div class="form-group"><label>Payer *</label><select id="payer">${payerOptions}</select></div>
            <div class="form-group"><label>Rendering Provider</label><input type="text" id="renderingProvider" value="Joey - LAC, CAS"></div>
            <div class="form-group"><label>NPI</label><input type="text" id="npi"></div>
            <div class="form-group"><label>Tax ID</label><input type="text" id="taxId"></div>
            <div class="form-group"><label>Place of Service</label><select id="placeOfService"><option value="11">11 - Office</option><option value="02">02 - Telehealth</option><option value="10">10 - Telehealth (Patient Home)</option></select></div>
            <div class="form-group"><label>Charge Amount</label><input type="number" id="chargeAmount" placeholder="150.00"></div>
          </div>
          <div style="margin-top:24px;display:flex;gap:12px">
            <button class="btn btn-primary" onclick="saveClaim()">Save Claim</button>
            <button class="btn btn-secondary" onclick="showView('dashboard')">Cancel</button>
          </div>
        </div>
      `;
    }

    function saveClaim() {
      const clientName = document.getElementById('clientName').value;
      const serviceDate = document.getElementById('serviceDate').value;
      const diagnosisCode = document.getElementById('diagnosisCode').value;
      if (!clientName || !serviceDate || !diagnosisCode) { alert('Please fill required fields'); return; }

      const claim = {
        id: Date.now().toString(),
        clientName,
        clientDOB: document.getElementById('clientDOB').value,
        memberId: document.getElementById('memberId').value,
        serviceDate,
        cptCode: document.getElementById('cptCode').value,
        modifier1: document.getElementById('modifier1').value,
        modifier2: document.getElementById('modifier2').value,
        modifier3: document.getElementById('modifier3').value,
        modifier4: document.getElementById('modifier4').value,
        units: document.getElementById('units').value,
        diagnosisCode,
        payer: document.getElementById('payer').value,
        renderingProvider: document.getElementById('renderingProvider').value,
        npi: document.getElementById('npi').value,
        taxId: document.getElementById('taxId').value,
        placeOfService: document.getElementById('placeOfService').value,
        chargeAmount: document.getElementById('chargeAmount').value,
        status: 'draft',
        createdAt: new Date().toISOString()
      };
      claims.push(claim);
      saveClaims();
      showView('dashboard');
    }

    function showDetail(id) {
      selectedClaim = claims.find(c => c.id === id);
      if (!selectedClaim) return;
      document.getElementById('dashboard-view').classList.add('hidden');
      document.getElementById('detail-view').classList.remove('hidden');
      renderDetail();
    }

    function renderDetail() {
      const c = selectedClaim;
      const payer = PAYERS[c.payer];
      const days = getDaysUntilDeadline(c);
      const fields = [
        ['Client Name', c.clientName, 'name'],
        ['Date of Birth', c.clientDOB, 'dob'],
        ['Member ID', c.memberId, 'member'],
        ['Service Date', c.serviceDate, 'service'],
        ['CPT Code', c.cptCode, 'cpt'],
        ['Modifier 1', c.modifier1, 'mod1'],
        ['Modifier 2', c.modifier2, 'mod2'],
        ['Modifier 3', c.modifier3, 'mod3'],
        ['Modifier 4', c.modifier4, 'mod4'],
        ['Units', c.units, 'units'],
        ['Diagnosis Code', c.diagnosisCode, 'dx'],
        ['Rendering Provider', c.renderingProvider, 'provider'],
        ['NPI', c.npi, 'npi'],
        ['Tax ID', c.taxId, 'tax'],
        ['Place of Service', c.placeOfService, 'pos'],
        ['Charge Amount', c.chargeAmount ? '$' + c.chargeAmount : '', 'charge']
      ];

      document.getElementById('detail-view').innerHTML = `
        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:20px">
            <div>
              <button class="back-btn" onclick="showView('dashboard')">‚Üê Back to list</button>
              <h2 style="font-size:20px">${c.clientName}</h2>
              <div style="color:#6B7280;margin-top:4px">Service: ${c.serviceDate} ‚Ä¢ ${c.cptCode}</div>
            </div>
            ${payer ? `<a href="${payer.portal}" target="_blank" class="btn btn-primary" style="text-decoration:none;background:${payer.color}">Open ${payer.name} Portal ‚Üí</a>` : ''}
          </div>
          <div class="status-buttons">
            ${Object.keys(STATUS_COLORS).map(s => `
              <button class="status-btn" style="background:${c.status === s ? STATUS_COLORS[s] : STATUS_COLORS[s] + '15'};color:${c.status === s ? 'white' : STATUS_COLORS[s]}" onclick="updateStatus('${s}')">${s.charAt(0).toUpperCase() + s.slice(1)}</button>
            `).join('')}
          </div>
          <div style="background:#F9FAFB;padding:16px;border-radius:8px;margin-bottom:20px">
            <div style="font-size:13px;color:#6B7280">Click any field below to copy it to your clipboard</div>
          </div>
          <div class="detail-grid">
            ${fields.map(([label, value, key]) => `
              <div class="copy-field" id="field-${key}" onclick="copyField('${key}', '${(value || '').replace(/'/g, "\\'")}')">
                <div class="label">${label}</div>
                <div class="value">${value || '‚Äî'}<span class="hint">Click to copy</span></div>
              </div>
            `).join('')}
          </div>
          <div style="margin-top:24px;padding-top:20px;border-top:1px solid #E5E7EB;display:flex;justify-content:space-between">
            <div style="font-size:13px;color:#6B7280">Filing deadline: ${days} days remaining${payer ? ` (${payer.filing} day limit)` : ''}</div>
            <button class="btn btn-danger" onclick="deleteClaim()">Delete Claim</button>
          </div>
        </div>
      `;
    }

    function copyField(key, value) {
      navigator.clipboard.writeText(value);
      const el = document.getElementById('field-' + key);
      el.classList.add('copied');
      el.querySelector('.hint').textContent = '‚úì Copied';
      setTimeout(() => {
        el.classList.remove('copied');
        el.querySelector('.hint').textContent = 'Click to copy';
      }, 1500);
    }

    function updateStatus(status) {
      selectedClaim.status = status;
      selectedClaim.updatedAt = new Date().toISOString();
      saveClaims();
      renderDetail();
    }

    function deleteClaim() {
      if (!confirm('Delete this claim?')) return;
      claims = claims.filter(c => c.id !== selectedClaim.id);
      saveClaims();
      showView('dashboard');
    }

    function renderReports() {
      const stats = getStats();
      const statusBars = Object.entries(stats.byStatus).map(([s, count]) => `
        <div class="bar-row">
          <div class="bar-label" style="color:${STATUS_COLORS[s]}">${s.charAt(0).toUpperCase() + s.slice(1)}</div>
          <div class="bar-track"><div class="bar-fill" style="width:${stats.total ? (count / stats.total) * 100 : 0}%;background:${STATUS_COLORS[s]}"></div></div>
          <div class="bar-count">${count}</div>
        </div>
      `).join('');

      const payerBars = Object.entries(PAYERS).map(([key, p]) => `
        <div class="bar-row">
          <div class="bar-label" style="color:${p.color}">${p.name}</div>
          <div class="bar-track"><div class="bar-fill" style="width:${stats.total ? ((stats.byPayer[key] || 0) / stats.total) * 100 : 0}%;background:${p.color}"></div></div>
          <div class="bar-count">${stats.byPayer[key] || 0}</div>
        </div>
      `).join('');

      const submitted = stats.byStatus.submitted + stats.byStatus.pending + stats.byStatus.paid + stats.byStatus.denied;
      const submissionRate = stats.total ? Math.round((submitted / stats.total) * 100) : 0;
      const paymentRate = stats.total ? Math.round((stats.byStatus.paid / stats.total) * 100) : 0;
      const denialRate = stats.total ? Math.round((stats.byStatus.denied / stats.total) * 100) : 0;
      const pendingClaims = claims.filter(c => ['draft', 'ready'].includes(c.status));
      const avgDays = pendingClaims.length ? Math.round(pendingClaims.reduce((sum, c) => sum + getDaysUntilDeadline(c), 0) / pendingClaims.length) : '‚Äî';

      document.getElementById('reports-view').innerHTML = `
        <div class="card">
          <h2 style="margin-bottom:20px;font-size:18px">Reports</h2>
          <div class="report-section">
            <div><h3 style="font-size:14px;color:#6B7280;margin-bottom:12px">By Status</h3>${statusBars}</div>
            <div><h3 style="font-size:14px;color:#6B7280;margin-bottom:12px">By Payer</h3>${payerBars}</div>
          </div>
          <div class="quick-stats">
            <h3>Quick Stats</h3>
            <div class="quick-stats-grid">
              <div><div class="qs-label">Submission Rate</div><div class="qs-value">${submissionRate}%</div></div>
              <div><div class="qs-label">Payment Rate</div><div class="qs-value" style="color:#059669">${paymentRate}%</div></div>
              <div><div class="qs-label">Denial Rate</div><div class="qs-value" style="color:#DC2626">${denialRate}%</div></div>
              <div><div class="qs-label">Avg Days to Deadline</div><div class="qs-value">${avgDays}</div></div>
            </div>
          </div>
        </div>
      `;
    }

    // Initialize app
    function init() {
      if (isLoggedIn()) {
        showApp();
      } else {
        showLandingPage();
      }
    }

    init();
  </script>
</body>
</html>
